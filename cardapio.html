<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Card√°pio dos Sonhos - Ra√≠zes de v√≥</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap Bootswatch Theme -->
    <link href="https://bootswatch.com/5/sketchy/bootstrap.min.css" rel="stylesheet">

    <!-- CSS do AOS -->
    <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">

    <!-- √çcones do Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=News+Cycle:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Text&family=News+Cycle:wght@700&display=swap"
          rel="stylesheet">

    <!-- √çcone da setinha para baixo do Bootstrap -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- CSS personalizado (sempre por √∫ltimo) -->
    <link rel="stylesheet" href="css/style.css">

    <style>
        :root {
            --cor-fundo: #F5F0E8; /* bege neutro quase marfim */
        }

        body {
            background-color: var(--cor-fundo);
        }

        .reveal {
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            transform: translateY(-8px);
            transition: max-height 0.35s ease, opacity 0.35s ease, transform 0.35s ease;
            pointer-events: none;
        }

        .reveal.open {
            max-height: 1000px;
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }

        .card-clickable {
            cursor: pointer;
        }

        .card-clickable:hover {
            transform: translateY(-4px);
            transition: transform .2s ease;
        }

        /* üîΩ Mant√©m a cor personalizada da setinha */
        .arrow-icon {
            color: #A78F7A; /* substitua pela cor que voc√™ usava anteriormente */
            font-size: 1.8rem;
            transition: transform 0.3s ease;
        }

        .card-clickable.active .arrow-icon {
            transform: rotate(180deg);
        }
    </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg custom-navbar">
    <div class="container">
        <a class="navbar-brand" href="index.html">Ra√≠zes de v√≥</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link active" href="index.html">In√≠cio</a></li>
                <li class="nav-item"><a class="nav-link" href="cardapio.html">Card√°pio</a></li>
                <li class="nav-item"><a class="nav-link" href="chef.html">Chef</a></li>
                <li class="nav-item"><a class="nav-link active" href="marmitas.html">Marmitas</a></li>
                <li class="nav-item"><a class="nav-link active" href="planosmarmitas.html">Planos</a></li>
                <li class="nav-item"><a class="nav-link active" href="faqmarmitas.html">FAQ</a></li>

            </ul>
        </div>
    </div>
</nav>

<!-- Hero -->
<section class="hero-section">
    <div class="hero-logo">
        <img src="img/logo.png" alt="Logo Ra√≠zes de V√≥">
    </div>

    <a href="#orcamento" class="btn btn-custom btn-lg px-4 py-2">
        Monte seu card√°pio agora!
    </a>
</section>

<!-- Como Funciona -->
<section class="container my-5 como-funciona">
    <h2 class="text-center mb-5 titulo-historia" data-aos="fade-up">Como Funciona</h2>
    <div class="row text-center d-flex align-items-stretch">

        <!-- Card 1 -->
        <div class="col-md-3 mb-4" data-aos="fade-up" data-aos-delay="100">
            <div class="p-4 rounded shadow h-100 text-center card-clickable d-flex flex-column text-box"
                 onclick="toggleCard(event, 'ideaForm')">
                <div class="d-flex flex-column align-items-center justify-content-center flex-grow-1">
                    <h5 class="fw-bold">Conte sua ideia</h5>
                    <p>Clique aqui e nos diga como voc√™ gostaria que fosse o seu evento.</p>
                    <i class="bi bi-chevron-down arrow-icon"></i>
                </div>

                <div id="ideaForm" class="reveal mt-3">
                    <label for="evento" class="form-label">Como voc√™ gostaria que fosse o seu evento?</label>
                    <textarea id="evento" class="form-control mb-3" rows="3"
                              placeholder="Ex: jantar rom√¢ntico, festa de anivers√°rio, churrasco..."></textarea>
                    <button class="btn btn-success w-100" onclick="sendToWhatsApp(event)">Enviar ideia</button>
                </div>
            </div>
        </div>

        <!-- Card 2 -->
        <div class="col-md-3 mb-4" data-aos="fade-up" data-aos-delay="200">
            <div class="p-4 rounded shadow h-100 text-center card-clickable d-flex flex-column text-box"
                 onclick="toggleCard(event, 'chefSuggestions')">
                <div class="d-flex flex-column align-items-center justify-content-center flex-grow-1">
                    <h5 class="fw-bold">Sugest√µes do Chef</h5>
                    <p><strong>O chef prop√µe combina√ß√µes criativas!</strong> Clique aqui e descubra combina√ß√µes
                        irresist√≠veis.</p>
                    <i class="bi bi-chevron-down arrow-icon"></i>
                </div>
                <div id="chefSuggestions" class="reveal mt-3">
                    <h6>Algumas sugest√µes que fazem sucesso:</h6>
                    <ul class="text-start">
                        <li>Risoto de lim√£o siciliano e cogumelo Shimeji branco</li>
                        <li>Frango marinado no maracuj√°</li>
                        <li>Massas frescas artesanais (talharim caseiro, nhoque, etc.)</li>
                        <li>Sobremesas criativas com frutas tropicais</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Card 3 -->
        <div class="col-md-3 mb-4" data-aos="fade-up" data-aos-delay="300">
            <div class="p-4 rounded shadow h-100 text-center card-clickable d-flex flex-column text-box"
                 onclick="toggleCard(event, 'menuDetails')">
                <div class="d-flex flex-column align-items-center justify-content-center flex-grow-1">
                    <h5 class="fw-bold">Defini√ß√£o do Menu</h5>
                    <p>Clique para ver como alinhamos o card√°pio ideal.</p>
                    <i class="bi bi-chevron-down arrow-icon"></i>
                </div>
                <div id="menuDetails" class="reveal mt-3">
                    <h6>Etapas para definir o menu:</h6>
                    <ul class="text-start">
                        <li>Conversamos sobre prefer√™ncias e restri√ß√µes</li>
                        <li>Apresentamos op√ß√µes de entradas, pratos e sobremesas</li>
                        <li>Ajustamos quantidades e estilo de servi√ßo</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Card 4 -->
        <div class="col-md-3 mb-4" data-aos="fade-up" data-aos-delay="400">
            <div class="p-4 rounded shadow h-100 text-center card-clickable d-flex flex-column text-box"
                 onclick="toggleCard(event, 'tasteDetails')">
                <div class="d-flex flex-column align-items-center justify-content-center flex-grow-1">
                    <h5 class="fw-bold">Deguste sua cria√ß√£o</h5>
                    <p>Clique aqui e viva a experi√™ncia completa.</p>
                    <i class="bi bi-chevron-down arrow-icon"></i>
                </div>
                <div id="tasteDetails" class="reveal mt-3">
                    <h6>O que voc√™ recebe:</h6>
                    <ul class="text-start">
                        <li>Pratos exclusivos preparados na hora</li>
                        <li>Servi√ßo completo para voc√™ n√£o se preocupar</li>
                        <li>Uma experi√™ncia gastron√¥mica inesquec√≠vel</li>
                        <li>Alguns eventos contam com degusta√ß√£o especial</li>
                    </ul>
                </div>
            </div>
        </div>

    </div>
</section>

<script>
    function toggleCard(event, id) {
        event.stopPropagation();
        const card = event.currentTarget;
        const targetReveal = document.getElementById(id);
        if (!targetReveal) return;

        // Fecha outros reveals
        document.querySelectorAll('.card-clickable').forEach(c => {
            if (c !== card) {
                c.classList.remove('active');
                const otherReveal = c.querySelector('.reveal');
                if (otherReveal) otherReveal.classList.remove('open');
            }
        });

        // Alterna o card atual
        targetReveal.classList.toggle('open');
        card.classList.toggle('active');
    }

    document.addEventListener('click', function (e) {
        if (!e.target.closest('.card-clickable')) {
            document.querySelectorAll('.reveal').forEach(r => r.classList.remove('open'));
            document.querySelectorAll('.card-clickable').forEach(c => c.classList.remove('active'));
        }
    });

    function sendToWhatsApp(event) {
        event.stopPropagation();
        const numero = "554196473945";
        const texto = document.getElementById("evento").value;
        if (!texto) {
            alert("Por favor, escreva sua ideia antes de enviar.");
            return;
        }
        const url = `https://api.whatsapp.com/send?phone=${numero}&text=${encodeURIComponent("Minha ideia para o evento: " + texto)}`;
        window.open(url, "_blank");
    }
</script>

<!-- Diferenciais -->
<section class="py-5">
    <div class="container">
        <h2 class="text-center mb-5 titulo-historia" data-aos="fade-up">Diferenciais</h2>
        <div class="row text-center d-flex align-items-stretch">
            <div class="col-md-3 mb-4" data-aos="zoom-in" data-aos-delay="100">
                <div class="p-4 rounded shadow h-100 d-flex flex-column justify-content-center align-items-center text-box">
                    <h5 class="fw-bold">Card√°pio Exclusivo</h5>
                    <p>Feito sob medida para seu evento, respeitando cada detalhe.</p>
                </div>
            </div>
            <div class="col-md-3 mb-4" data-aos="zoom-in" data-aos-delay="200">
                <div class="p-4 rounded shadow h-100 d-flex flex-column justify-content-center align-items-center text-box">
                    <h5 class="fw-bold">Sabores Inesquec√≠veis</h5>
                    <p>Receitas que encantam o paladar e marcam a mem√≥ria.</p>
                </div>
            </div>
            <div class="col-md-3 mb-4" data-aos="zoom-in" data-aos-delay="300">
                <div class="p-4 rounded shadow h-100 d-flex flex-column justify-content-center align-items-center text-box">
                    <h5 class="fw-bold">Criatividade Gastron√¥mica</h5>
                    <p>Combina√ß√µes inovadoras para surpreender seus convidados.</p>
                </div>
            </div>
            <div class="col-md-3 mb-4" data-aos="zoom-in" data-aos-delay="400">
                <div class="p-4 rounded shadow h-100 d-flex flex-column justify-content-center align-items-center text-box">
                    <h5 class="fw-bold">Respeito √†s Prefer√™ncias</h5>
                    <p>Adaptamos o menu √†s suas restri√ß√µes e prefer√™ncias alimentares.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Or√ßamento / WhatsApp -->
<section class="text-center py-5" id="orcamento" data-aos="fade-up">
    <a href="https://api.whatsapp.com/send?phone=554196473945&text=Ol%C3%A1!%20Quero%20um%20card%C3%A1pio%20personalizado."
       target="_blank"
       class="btn btn-success btn-lg px-4 py-2">
        <i class="bi bi-whatsapp me-2"></i> Pe√ßa seu card√°pio personalizado
    </a>
</section>

<!-- Rodap√© -->
<footer class="bg-dark text-light text-center py-4 mt-5">
    ¬© 2025 ¬© 2025 Ra√≠zes de v√≥ | Um punhado de amor. Todos os direitos reservados.
</footer>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
<script>
    AOS.init({duration: 400, easing: 'ease-out', once: true, offset: 80, delay: 0});
</script>

<!-- === Chat Flutuante (colar antes do </body>) === -->
<style>
    /* Vari√°veis e estilos do chat (incluir localmente) */
    :root {
        --cor-escura: #363B40;
        --cor-marrom: #BD836C;
        --cor-verde: #76A694;
        --cor-verde-escuro: #6FA66F;
        --cor-bege: #F5E6D3;
        --cor-branco: #FFFFFF;
        --sombra-suave: rgba(0, 0, 0, 0.15);
    }

    /* container fixo */
    #chat-container {
        position: fixed;
        right: 20px;
        bottom: 20px;
        z-index: 11000; /* container acima do resto da p√°gina */
        font-family: 'Poppins', sans-serif;
    }

    /* bot√£o redondo */
    #chat-button {
        background-color: var(--cor-verde);
        color: var(--cor-branco);
        width: 65px;
        height: 65px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-size: 30px;
        box-shadow: 0 5px 15px var(--sombra-suave);
        transition: transform 0.18s, background-color 0.18s;
        z-index: 11001; /* bot√£o acima do container interno, mas abaixo da caixa quando aberta */
    }

    /* caixa do chat (inicialmente oculta) */
    #chat-box {
        display: none;
        width: 360px;
        max-width: 90vw;
        background-color: var(--cor-bege);
        border: 2px solid var(--cor-verde-escuro);
        border-radius: 18px;
        overflow: hidden;
        box-shadow: 0 10px 25px var(--sombra-suave);
        margin-bottom: 12px;
        display: flex;
        flex-direction: column;
        animation: fadeIn 0.28s ease;
        z-index: 11002; /* garantir que a caixa fique acima do bot√£o e receba cliques */
        pointer-events: auto;
    }

    /* header */
    #chat-header {
        background: var(--cor-verde-escuro);
        color: var(--cor-branco);
        padding: 12px 14px;
        font-weight: 700;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 15px;
        border-bottom: 1px solid var(--cor-verde);
    }

    /* mensagens */
    #chat-messages {
        padding: 12px;
        font-size: 15px;
        color: var(--cor-escura);
        max-height: 280px;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        gap: 10px;
        background: transparent;
    }

    /* mensagens bolha */
    .message {
        max-width: 75%;
        padding: 10px 14px;
        border-radius: 18px;
        word-wrap: break-word;
        box-shadow: 0 3px 8px var(--sombra-suave);
        opacity: 0;
        transform: translateY(8px);
        animation: messageIn 0.28s forwards;
    }

    .message.bot {
        background: var(--cor-verde);
        color: var(--cor-branco);
        align-self: flex-start;
        border-bottom-left-radius: 6px;
    }

    .message.user {
        background: var(--cor-branco);
        color: var(--cor-escura);
        border: 1px solid var(--cor-verde-escuro);
        align-self: flex-end;
        border-bottom-right-radius: 6px;
    }

    /* op√ß√µes/quick replies */
    #chat-options {
        display: flex;
        flex-direction: column;
        padding: 10px;
        gap: 8px;
        border-top: 1px solid var(--cor-verde-escuro);
        background: var(--cor-bege);
    }

    .chat-option {
        padding: 10px;
        border-radius: 12px;
        border: none;
        cursor: pointer;
        background: var(--cor-verde);
        color: var(--cor-branco);
        font-size: 14px;
        box-shadow: 0 3px 6px var(--sombra-suave);
    }

    .chat-option:hover {
        transform: translateY(-2px);
    }

    /* anima√ß√µes */
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px)
        }
        to {
            opacity: 1;
            transform: none
        }
    }

    @keyframes messageIn {
        from {
            opacity: 0;
            transform: translateY(8px)
        }
        to {
            opacity: 1;
            transform: none
        }
    }

    /* responsivo */
    @media (max-width: 480px) {
        #chat-box {
            width: 92vw;
            right: 12px;
            left: 12px;
            bottom: 88px;
        }

        #chat-messages {
            max-height: 220px;
            padding: 8px;
        }
    }
</style>

<!-- === Chat Flutuante === -->
<div id="chat-container" aria-live="polite">
    <div id="chat-box" role="dialog" aria-label="Chat Brisa e Aroma">
        <div id="chat-header">
            <span>üåø Ra√≠zes de v√≥</span>
            <button id="chat-close" aria-label="Fechar chat"
                    style="background:none;border:none;color:#fff;font-size:16px;cursor:pointer">‚úñ
            </button>
        </div>

        <div id="chat-messages">
            <div class="message bot" style="animation-delay:0.05s">
                Ol√°! Quer conhecer nossos planos, tipos de marmitas ou falar direto pelo WhatsApp? üç±
            </div>
        </div>

        <div id="chat-options">
            <button class="chat-option" data-msg="Tipos de marmitas">Tipos de marmitas</button>
            <button class="chat-option" data-msg="Planos e valores">Planos e valores</button>
            <button class="chat-option" data-msg="WhatsApp">Falar no WhatsApp</button>
        </div>
    </div>

    <button id="chat-button" aria-haspopup="dialog" aria-expanded="false">üí¨</button>
</div>

<script>
    (function () {
        const chatButton = document.getElementById('chat-button');
        const chatBox = document.getElementById('chat-box');
        const chatClose = document.getElementById('chat-close');
        const chatOptions = Array.from(document.querySelectorAll('.chat-option'));
        const chatMessages = document.getElementById('chat-messages');

        function openChat() {
            chatBox.style.display = 'flex';
            chatButton.setAttribute('aria-expanded', 'true');
            setTimeout(() => chatMessages.scrollTop = chatMessages.scrollHeight, 60);
        }

        function closeChat() {
            chatBox.style.display = 'none';
            chatButton.setAttribute('aria-expanded', 'false');
        }

        chatButton.addEventListener('click', () => {
            if (chatBox.style.display === 'flex') closeChat();
            else openChat();
        });

        chatClose.addEventListener('click', closeChat);

        document.addEventListener('click', (e) => {
            const inside = e.composedPath().includes(chatBox) || e.composedPath().includes(chatButton);
            if (!inside && chatBox.style.display === 'flex') closeChat();
        });

        function showBotMessage(text, speed = 20) {
            const msgDiv = document.createElement('div');
            msgDiv.className = 'message bot';
            chatMessages.appendChild(msgDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;

            let i = 0;
            const interval = setInterval(() => {
                msgDiv.textContent += text[i] ?? '';
                i++;
                chatMessages.scrollTop = chatMessages.scrollHeight;
                if (i >= text.length) clearInterval(interval);
            }, speed);
        }

        function showUserMessage(text) {
            const msgDiv = document.createElement('div');
            msgDiv.className = 'message user';
            msgDiv.textContent = text;
            chatMessages.appendChild(msgDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function resposta(opcao) {
            if (opcao === 'Tipos de marmitas') {
                return 'Temos marmitas Fitness, Tradicional e Vegana üå±. Quer saber mais detalhes?';
            } else if (opcao === 'Planos e valores') {
                return 'Nossos planos s√£o semanais e mensais. Os valores variam com a quantidade ‚Äî prefira nos chamar no WhatsApp para or√ßamento exato.';
            } else {
                return '';
            }
        }

        function criarDropdownWhatsApp() {
            const botMsg = document.createElement('div');
            botMsg.className = 'message bot';
            botMsg.textContent = 'Escolha uma mensagem ou digite a sua:';
            chatMessages.appendChild(botMsg);

            const container = document.createElement('div');
            container.style.display = 'flex';
            container.style.flexDirection = 'column';
            container.style.gap = '6px';
            container.style.padding = '8px';

            // Dropdown
            const select = document.createElement('select');
            select.style.padding = '6px 8px';
            select.style.borderRadius = '12px';
            select.style.border = '1px solid #6FA66F';
            select.innerHTML = `
            <option value="">-- Selecione uma mensagem --</option>
            <option value="Ol√°! Gostaria de saber mais sobre as marmitas.">Sobre as marmitas</option>
            <option value="Quero informa√ß√µes sobre planos e valores.">Planos e valores</option>
            <option value="Desejo receber o card√°pio completo.">Receber card√°pio</option>
            <option value="Continuo com d√∫vidas sobre as marmitas, o FAQ me ajudou mas poderia me explicar melhor?">FAQ</option>
        `;
            container.appendChild(select);

            // Input livre
            const input = document.createElement('input');
            input.type = 'text';
            input.placeholder = 'Ou digite sua pr√≥pria mensagem';
            input.style.padding = '6px 8px';
            input.style.borderRadius = '12px';
            input.style.border = '1px solid #6FA66F';
            container.appendChild(input);

            // Bot√£o abrir WhatsApp
            const btn = document.createElement('button');
            btn.textContent = 'Abrir WhatsApp';
            btn.style.padding = '8px';
            btn.style.border = 'none';
            btn.style.borderRadius = '12px';
            btn.style.backgroundColor = '#25D366';
            btn.style.color = '#fff';
            btn.style.cursor = 'pointer';
            btn.style.fontWeight = '600';
            container.appendChild(btn);

            btn.addEventListener('click', () => {
                let msg = input.value || select.value || '';
                const numero = '554196473945';
                const linkWhats = msg ?
                    `https://api.whatsapp.com/send?phone=${numero}&text=${encodeURIComponent(msg)}` :
                    `https://api.whatsapp.com/send?phone=${numero}`;
                window.open(linkWhats, '_blank');
                chatMessages.removeChild(container);
            });

            chatMessages.appendChild(container);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        chatOptions.forEach(button => {
            button.addEventListener('click', () => {
                const userText = button.dataset.msg;
                showUserMessage(userText);

                if (userText === 'WhatsApp') {
                    criarDropdownWhatsApp();
                } else {
                    setTimeout(() => showBotMessage(resposta(userText)), 300);
                }
            });
        });
    })();
</script>
<!-- === FIM Chat Flutuante === -->

</body>
</html>