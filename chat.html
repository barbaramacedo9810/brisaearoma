<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Brisa & Aroma Responsivo</title>
    <style>
        <!-- chat.html -->
        <style>
         :root {
             --cor-escura: #363B40;
             --cor-marrom: #BD836C;
             --cor-verde: #76A694;
             --cor-verde-escuro: #6FA66F;
             --cor-bege: #F5E6D3;
             --cor-branco: #FFFFFF;
             --sombra-suave: rgba(0,0,0,0.15);
         }

        #chat-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 9999;
            font-family: 'Poppins', sans-serif;
        }

        #chat-button {
            background-color: var(--cor-verde);
            color: var(--cor-branco);
            width: 65px;
            height: 65px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 30px;
            box-shadow: 0 5px 15px var(--sombra-suave);
            transition: transform 0.2s, background-color 0.2s;
        }

        #chat-button:hover {
            transform: scale(1.1);
            background-color: var(--cor-verde-escuro);
        }

        #chat-box {
            display: none;
            width: 350px;
            max-width: 90vw;
            background-color: var(--cor-bege);
            border: 2px solid var(--cor-verde-escuro);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 25px var(--sombra-suave);
            margin-bottom: 10px;
            display: flex;
            flex-direction: column;
            animation: fadeIn 0.3s ease;
        }

        #chat-header {
            background-color: var(--cor-verde-escuro);
            color: var(--cor-branco);
            padding: 14px 18px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 16px;
            border-bottom: 1px solid var(--cor-verde);
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
            box-shadow: 0 2px 6px var(--sombra-suave);
        }

        #chat-close {
            cursor: pointer;
            font-size: 16px;
        }

        #chat-messages {
            padding: 14px;
            font-size: 15px;
            color: var(--cor-escura);
            flex-grow: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
            scroll-behavior: smooth;
        }

        .message {
            max-width: 75%;
            padding: 12px 18px;
            border-radius: 22px;
            position: relative;
            word-wrap: break-word;
            opacity: 0;
            transform: translateY(12px);
            animation: messageIn 0.35s forwards;
            box-shadow: 0 3px 8px var(--sombra-suave);
        }

        .message.bot {
            background-color: var(--cor-verde);
            color: var(--cor-branco);
            align-self: flex-start;
            border-bottom-left-radius: 6px;
        }

        .message.user {
            background-color: var(--cor-branco);
            border: 1px solid var(--cor-verde-escuro);
            color: var(--cor-escura);
            align-self: flex-end;
            border-bottom-right-radius: 6px;
        }

        #chat-options {
            display: flex;
            flex-direction: column;
            padding: 12px;
            border-top: 1px solid var(--cor-verde-escuro);
            background-color: var(--cor-bege);
        }

        .chat-option {
            margin: 6px 0;
            padding: 12px;
            border: none;
            border-radius: 14px;
            background-color: var(--cor-verde);
            color: var(--cor-branco);
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s, box-shadow 0.2s;
            box-shadow: 0 3px 6px var(--sombra-suave);
            font-size: 15px;
        }

        .chat-option:hover {
            background-color: var(--cor-verde-escuro);
            transform: scale(1.02);
            box-shadow: 0 5px 10px var(--sombra-suave);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes messageIn {
            from { opacity: 0; transform: translateY(12px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .typing {
            border-right: 2px solid var(--cor-branco);
            padding-right: 4px;
            animation: blink 0.8s infinite;
        }

        @keyframes blink {
            0%,50%,100% { border-color: var(--cor-branco); }
            25%,75% { border-color: transparent; }
        }

        @media (max-width: 480px) {
            #chat-box { width: 90vw; }
            #chat-messages { padding: 10px; font-size: 14px; gap: 10px; }
            .chat-option { font-size: 14px; padding: 10px; }
            .message { padding: 10px 14px; border-radius: 18px; }
        }
    </style>

    <div id="chat-container">
        <div id="chat-button">üí¨</div>
        <div id="chat-box">
            <div id="chat-header">
                üåø Brisa & Aroma
                <span id="chat-close">‚úñ</span>
            </div>
            <div id="chat-messages">
                <div class="message bot">Ol√°! Quer conhecer nossos planos ou tipos de marmitas? üç±</div>
            </div>
            <div id="chat-options">
                <button class="chat-option" data-msg="Tipos de marmitas">Tipos de marmitas</button>
                <button class="chat-option" data-msg="Planos e valores">Planos e valores</button>
                <button class="chat-option" data-msg="WhatsApp">Falar no WhatsApp</button>
            </div>
        </div>
    </div>

    <script>
        const chatButton = document.getElementById('chat-button');
        const chatBox = document.getElementById('chat-box');
        const chatClose = document.getElementById('chat-close');
        const chatOptions = document.querySelectorAll('.chat-option');
        const chatMessages = document.getElementById('chat-messages');

        chatButton.addEventListener('click', () => {
            chatBox.style.display = chatBox.style.display === 'flex' ? 'none' : 'flex';
        });

        chatClose.addEventListener('click', () => {
            chatBox.style.display = 'none';
        });

        function showBotMessage(text) {
            const msgDiv = document.createElement('div');
            msgDiv.classList.add('message', 'bot', 'typing');
            chatMessages.appendChild(msgDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;

            let i = 0;
            const interval = setInterval(() => {
                msgDiv.textContent += text[i];
                i++;
                chatMessages.scrollTop = chatMessages.scrollHeight;
                if(i >= text.length) {
                    clearInterval(interval);
                    msgDiv.classList.remove('typing');
                }
            }, 25);
        }

        function showUserMessage(text) {
            const msgDiv = document.createElement('div');
            msgDiv.classList.add('message', 'user');
            msgDiv.textContent = text;
            chatMessages.appendChild(msgDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function resposta(opcao) {
            if(opcao === 'Tipos de marmitas') {
                return 'Temos marmitas Fitness, Tradicional e Vegana üå±. Quer saber mais detalhes?';
            } else if(opcao === 'Planos e valores') {
                return 'Nossos planos s√£o semanais e mensais. Os valores variam de acordo com a quantidade de marmitas üç±.';
            } else {
                return 'Clique no bot√£o do WhatsApp para falar diretamente conosco!';
            }
        }

        chatOptions.forEach(button => {
            button.addEventListener('click', () => {
                const userText = button.dataset.msg;
                showUserMessage(userText);

                if(userText === 'WhatsApp') {
                    window.open('https://wa.me/55SEUNUMERO', '_blank');
                } else {
                    setTimeout(() => showBotMessage(resposta(userText)), 400);
                }
            });
        });
    </script>
